FROM node:18-alpine

# set working directory
WORKDIR /app

# copy package.json first for caching
COPY server/package*.json ./server/

# go into server folder
WORKDIR /app/server

# install dependencies
RUN npm ci

# copy the rest of the backend code
COPY server/ .

# expose the port your backend listens on (adjust if not 5000)
EXPOSE 5000

# start backend
CMD ["npm", "start"]